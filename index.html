<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=2.0">
    <title>Astro-Matem치tico PRO 游</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@500;700;900&display=swap" rel="stylesheet">
   <style>
        :root {
            --cor-principal: #00ffff; 
            --cor-secundaria: #ff00ff; 
            --cor-fundo: #0a0a2a; 
            --cor-acerto: #00ff00;
            --cor-erro: #ff4500; 
            --cor-combo: #ffcc00; 
          
            --ad-height: 64px; 
            --player-min: 32px;
            --player-max: 63px;
            --asteroid-max: 65px;
            --hud-padding: 10px;
        }

        body {
    font-family: 'Orbitron', sans-serif;
    margin: 0;
    padding: 0;
    background-color: var(--cor-fundo);
    color: var(--cor-principal);
    
    display: flex;
    flex-direction: column; 
    align-items: center;
    
    height: 100vh; 
    min-height: 100vh; 
    width: 100vw; 
    
    overflow: hidden; 
    user-select: none;
    touch-action: none;
        max-width: 100%; 
}
        #gameArea {
            position: relative;
            box-sizing: border-box;
            width: min(98vw, 1000px);
            max-width: 1000px;
            margin: 0 auto;
            background: rgba(0, 0, 0, 0.4);
            border: 4px solid var(--cor-secundaria);
            box-shadow: 0 0 20px var(--cor-secundaria);
            overflow: hidden;
            cursor: crosshair;
            touch-action: none;
            min-height: calc(100vh - var(--ad-height));
            height: calc(100vh - var(--ad-height));
            display: block;
            background-image: radial-gradient(white, rgba(255,255,255,.2) 2px, transparent 40px),
                              radial-gradient(white, rgba(255,255,255,.15) 1px, transparent 30px),
                              radial-gradient(white, rgba(255,255,255,.1) 3px, transparent 50px);
            background-size: 550px 550px, 350px 350px, 250px 250px;
            background-position: 0 0, 40px 60px, 120px 200px;
            animation: move-stars 3s linear infinite;
        }

        @keyframes move-stars {
            from { background-position-y: 0, 60px, 200px; }
            to { background-position-y: 550px, 410px, 700px; }
        } 
    #adArea {
            height: 43px; 
            flex-shrink: 0; 
            
            width: 100vw;
            max-width: 100vw; 
            text-align: center;
            padding: 10px 0; 
            background-color: rgba(0, 0, 0, 0.5); 
            border-top: 2px solid var(--cor-principal);
            z-index: 500;
        }
        html, body {
            height: 100%;
        }

        #gameArea {
            min-height: calc(100vh - 64px);
            width: 98vw;
            max-width: 100%;
        }
        @media (max-width: 600px) {
            #adArea {
                position: fixed;
                left: 0;
                right: 0;
                bottom: env(safe-area-inset-bottom, 0);
                width: 100%;
                z-index: 400;
                padding-bottom: env(safe-area-inset-bottom, 0);
                height: calc(var(--ad-height) + env(safe-area-inset-bottom, 0));
            }
            #gameArea {
                padding-bottom: calc(var(--ad-height) + env(safe-area-inset-bottom, 0));
                min-height: calc(100vh - var(--ad-height) - env(safe-area-inset-bottom, 0));
                width: 96vw;
            }
            body {
                padding-bottom: 0; 
            }
        }
        @media (max-width: 420px) {
            :root { --ad-height: 72px; }
            #gameArea {
                height: calc(100vh - var(--ad-height));
                min-height: calc(100vh - var(--ad-height));
                width: 96vw;
                padding-bottom: calc(var(--ad-height) + env(safe-area-inset-bottom));
            }
            #player { width: clamp(var(--player-min), 12vw, var(--player-max)); height: clamp(var(--player-min), 12vw, var(--player-max)); bottom: calc(12px + env(safe-area-inset-bottom, 0)); }
            .asteroid { width: 18vw; height: 18vw; max-width: calc(var(--asteroid-max) - 8px); max-height: calc(var(--asteroid-max) - 8px); }
            #hud { padding: calc(var(--hud-padding) - 2px); }
            .question-box { font-size: clamp(1.0em, 4vw, 1.4em); padding: 6px 12px; }
            #shootButton { padding: 10px 14px; font-size: 0.95rem; bottom: calc(var(--ad-height) + env(safe-area-inset-bottom, 0) + 8px); z-index: 1200; }
        }
    #hud { z-index: 2000; }
    .temp-message { position: fixed; top: 50%; left: 50%; transform: translate(-50%,-50%); z-index: 1800; pointer-events: none; }

        #player {
    position: absolute;
    
    
    width: clamp(42px, 10vw, 63px); 
    height: clamp(42px, 10vw, 63px);
    
    background-image: url('player.gif');
    background-size: contain;
    background-repeat: no-repeat;
    background-position: center;
    transition: transform 0.05s ease-out;
    z-index: 15;
    outline: none;
    user-select: none;
    pointer-events: none; 
    cursor: none; 
}

#player::after {
    content: '游댠';
    position: absolute;
    top: 100%;
    left: 50%;
    transform: translateX(-50%);
    font-size: 0.5em;
    opacity: 0;
    transition: opacity 0.1s;
}

        .shooting #player::after {
            opacity: 1;
        }
        .bullet {
            position: absolute;
            width: 4px;
            height: 15px;
            background-color: var(--cor-principal);
            box-shadow: 0 0 10px var(--cor-principal), 0 0 5px white;
            border-radius: 2px;
            z-index: 10;
            transition: none;
        }

        .asteroid {
            
            transform-origin: center center; 
            animation: none; 
            text-shadow: 0 0 5px black;
            
            position: absolute; 
            width: 14vw; 
            height: 14vw; 
            max-width: 65px;
            max-height: 65px;
            background-size: contain; 
            background-repeat: no-repeat;
            background-position: center;
        }

        .asteroid span {
            background: rgba(0, 0, 0, 0.5); 
            padding: 2px 5px;
            border-radius: 5px;
            position: absolute; 
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 2; 
            color: var(--cor-principal); 
            font-size: 1.2rem;
        }
        .destroyed { opacity: 0 !important; transform: scale(0.1) !important; transition: all 0.5s ease-out; }
        .old-asteroid { 
            opacity: 0.4; 
            border-color: #555; 
            box-shadow: none; 
            transition: all 1.5s ease-out; 
        }


        #boss.vulnerable {
            border-color: var(--cor-acerto, lime);
            box-shadow: 0 0 20px var(--cor-acerto, lime), 0 0 40px rgba(0, 255, 0, 0.7);
        }

        #boss.hit {

            animation: bossShake 0.1s 3;
            
        }

        .boss-gif {
            top: 0%;
            margin-right: 0%;
            margin-left: 0%;
            width: 100%; 
            max-height: calc(110% - 35px); 
            object-fit: cover; 
            
            display: block;
            margin: 0 auto; 
      
            margin-bottom: 5px; 
        }
    
        #boss {
        width: clamp(90px, 25vw, 150px);
            height: auto; 
            position: absolute;
            top: 8vh;
            left: 50%; 
            transform: translateX(-50%); 
            background-color: black; 
            border: 3px solid #ff00ff;
            border-radius: 10px;
            padding: 10px; 
            z-index: 100;
            box-shadow: 0 0 25px #ff00ff, 0 0 50px rgba(255, 0, 255, 0.5);
            transition: box-shadow 0.3s, transform 0.1s;
            text-align: center;
        }


       
        .boss-question {
            display: block;
            color: white;
            font-size: clamp(0.8rem, 3vw, 1.1rem);
            font-weight: bold;
            
           
            margin-top: 0; 
            margin-bottom: 5px; 
        }

       
        .boss-answer-display {
            color: var(--cor-acerto, lime);
            font-size: clamp(1.2rem, 4vw, 1.5rem); 
            font-weight: bold;
            margin-top: 0; 
        }


        @keyframes bossShake {
            0% { transform: translate(calc(-50% - 5px), 0); }
            50% { transform: translate(calc(-50% + 5px), 0); }
            100% { transform: translate(-50%, 0); }
        }

        .particle {
            position: absolute;
            width: 5px;
            height: 5px;
            border-radius: 50%;
            pointer-events: none;
            z-index: 20;
        }

       
        #leftSideHUD {
            display: flex;
            flex-direction: column;
            align-items: flex-start; 
        }
        
        #scoreComboGroup {
            display: flex;
            flex-direction: column; 
            align-items: flex-start; 
            margin-top: 5px;
        }

        #scoreContainer {
            display: flex;
            flex-direction: column; 
            align-items: flex-start; 
            padding: 0;
        }

        .score-label {
            font-size: 0.8em; 
            color: #aaa; 
            text-shadow: 1px 1px 2px #000;
            margin-bottom: -5px; 
        }

        #score {
            font-size: 1.5em;
            font-weight: bold;
            color: var(--cor-principal);
        }

        #combo {
            color: var(--cor-combo);
            font-size: 1.0em;
            text-shadow: 0 0 8px var(--cor-combo);
            text-align: left;
            margin-top: 5px; 
            display: none; 
        }

        .combo-active {
            display: block !important;
            animation: combo-pulse 0.5s infinite alternate;
        }
        #rightSideHUD {
            display: flex;
            flex-direction: column; 
            align-items: flex-end; 
            margin-left: auto; 
        }

        #bossHealth {
            font-size: 1.2em;
            font-weight: 900;
            color: var(--cor-erro);
            display: flex; 
            align-items: center;
            justify-content: flex-end; 

            width: 100%; 
            min-width: 150px; 
         
        }
        .boss-hp-bar {
            margin-left: 5px; 
            display: flex; 
            align-items: center;
        }

        .boss-hp-bar span {
            font-size: 1.2em; 
            margin: 0 1px;
        }

        #lives {
            color: var(--cor-erro);
            font-size: 1.5em;
            
        }

 /* HUD (painel superior) */
#hud {
    position: absolute;
    top: 0;
    width: 96%;
    left: 2%;
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 6px 10px; /* Menor espa칞amento interno */
    z-index: 30;
    background: rgba(0, 0, 0, 0.55);
    border-radius: 10px;
    border: 1px solid var(--cor-principal);
    box-shadow: 0 0 12px var(--cor-principal);
}

/* Caixa da quest칚o (centralizada e mais pr칩xima do topo) */
.question-box {
    position: absolute;
    left: 50%;
    transform: translateX(-50%);
    top: 12px; /* Antes: calc(var(--hud-padding)) */
    z-index: 1800;
    padding: 4px 12px;
    font-size: clamp(1.1em, 4vw, 1.6em);
    font-weight: 900;
    background: rgba(0, 0, 0, 0.7);
    border: 2px solid var(--cor-principal);
    box-shadow: 0 0 12px var(--cor-principal);
    border-radius: 10px;
}

/* Ajuste espec칤fico para telas menores (celulares) */
@media (max-width: 600px) {
    #hud {
        padding: 4px 6px;
        flex-direction: row;
        align-items: flex-start;
    }

    .question-box {
        top: 8px; /* aproxima ainda mais no celular */
        font-size: clamp(1em, 5vw, 1.4em);
        padding: 3px 10px;
    }
}

       
        #bossFightTitle {
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
            top: var(--hud-padding);
            z-index: 1900; 
            
            font-size: clamp(1.5em, 6vw, 2.5em);
            color: var(--cor-acerto);
            border: 3px solid var(--cor-acerto);
            padding: 5px 15px;
            border-radius: 8px;
            background: rgba(0, 0, 0, 0.8);
            box-shadow: 0 0 20px var(--cor-acerto);
            display: none; 
        }

        .question-box.error-msg {
            color: var(--cor-erro); 
            border-color: var(--cor-erro); 
            box-shadow: 0 0 15px var(--cor-erro); 
            animation: shake 0.3s; 
        }

        @keyframes shake {
            0%, 100% { transform: translateX(-50%); }
            25% { transform: translateX(calc(-50% - 5px)); }
            75% { transform: translateX(calc(-50% + 5px)); }
        }
        .question-box.alert-msg {
            color: var(--cor-secundaria);
            border-color: var(--cor-secundaria);
            box-shadow: 0 0 20px var(--cor-secundaria), 0 0 10px white;
            animation: alert-pulse 1s infinite alternate; 
        }

        @keyframes alert-pulse {
            from {
                box-shadow: 0 0 15px var(--cor-secundaria), 0 0 5px white;
                transform: translateX(-50%) scale(1);
            }
            to {
                box-shadow: 0 0 30px var(--cor-secundaria), 0 0 10px var(--cor-principal);
                transform: translateX(-50%) scale(1.03);
            }
        }


        #overlay, #gameOverScreen {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            
            background: rgba(0, 0, 0, 1); 
            
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            
            z-index: 10000; 
        }

        #startButton, #restartButton {
            padding: 15px 30px;
            font-size: 1.5em;
            font-weight: 700;
            border: 3px solid var(--cor-secundaria);
            background-color: var(--cor-fundo);
            color: var(--cor-secundaria);
            cursor: pointer;
            border-radius: 10px;
            transition: all 0.3s;
            box-shadow: 0 0 15px var(--cor-secundaria);
            margin-top: 20px;
        }

        #startButton:hover, #restartButton:hover {
            background-color: var(--cor-secundaria);
            color: var(--cor-fundo);
            box-shadow: 0 0 25px var(--cor-principal);
            transform: scale(1.05);
        }
        #exitButton {
            background: var(--cor-fundo);
            color: var(--cor-erro);
            border: 1px solid var(--cor-erro);
            padding: 5px 10px;
            font-size: 0.8em;
            font-weight: 700;
            cursor: pointer;
            border-radius: 5px;
            transition: all 0.3s;
            text-decoration: none;
        }

        #exitButton:hover {
            background-color: var(--cor-erro);
            color: var(--cor-fundo);
            box-shadow: 0 0 10px var(--cor-erro);
            transform: scale(1.05);
        }

        #shootButton {
            position: absolute;
            bottom: 20px;
            right: 20px;
            padding: 15px 25px;
            font-size: 1.2rem;
            background-color: var(--cor-acerto);
            color: white;
            border: 3px solid white;
            border-radius: 10px;
            cursor: pointer;
            z-index: 1000; 
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.4);
            
            display: none; 
        }

        @media (max-width: 768px) {
            #shootButton {
                display: block; 
                position: fixed;
                z-index: 1100;
                right: 12px;
                bottom: calc(var(--ad-height) + 8px);
                box-shadow: 0 6px 10px rgba(0,0,0,0.5);
            }
        }
    </style>
</head>
<body>

<div id="gameArea">

    <div id="bossFightTitle" style="display: none;">BOSS FIGHT!</div>

    <div id="hud">
        <div id="leftSideHUD">
            <a id="exitButton" href="brincadeiras3.html" onclick="return confirmExit();">SAIR</a>
            
            <div id="scoreComboGroup">
                <div id="scoreContainer">
                    <div class="score-label">Pontos:</div>
                    <div id="score">0</div>
                </div>
                <div id="combo"></div> 
            </div>
        </div>
        
        <div id="rightSideHUD">
            <div id="lives">Vidas: 游눘游눘游눘</div>
            <div id="bossHealth"></div>
        </div>
    </div>
    
    <div id="question" class="question-box"></div>

    <div id="player"></div>

</div> <button id="shootButton">游댦 DISPARAR</button>

<div id="overlay">
    <h1>Astro-Matem치tico PRO 游깳</h1>
    <p>Destrua o asteroide com a resposta correta e veja seu combo aumentar!</p>
    <p>A cada 10 acertos, um **Boss de Fase** surgir치!</p>
    <p>Use **Setas** ou **WASD** para mover, **Espa칞o** ou **Mouse Click** para atirar.</p>
    <button id="startButton">INICIAR MISS츾O</button>
</div>

<div id="gameOverScreen" style="display: none;">
    <h2>MISS츾O FRACASSADA</h2>

    <p>Pontua칞칚o Final: <span id="finalScore">0</span></p>
    
    <button id="restartButton" onclick="startGame()">TENTAR NOVAMENTE</button>
</div> <script src="error.js"></script>
<div id="adArea">
    <div> 
        <script type="text/javascript">
        atOptions = {
        'key' : 'bbf348585df7afae438e1754d1003d92',
        'format' : 'iframe',
        'height' : 50,
        'width' : 320,
        'params' : {}
        };
        </script>
        <script type="text/javascript" src="https://www.highperformanceformat.com/bbf348585df7afae438e1754d1003d92/invoke.js"></script>
    </div>
</div>

</body>
</html>
